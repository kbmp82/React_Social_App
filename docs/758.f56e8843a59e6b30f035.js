"use strict";(self.webpackChunkreact_social_app=self.webpackChunkreact_social_app||[]).push([[758],{758:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(294),n=a(387),s=a(250),o=a(655),r=a(861),c=a(62),i=a(259),m=a(884),u=a(210),d=a(983),p=a(564);function h(){const[e,t]=(0,l.useState)(!0),[a,h]=(0,l.useState)({}),[E,f]=(0,l.useState)(!1),{id:y}=(0,s.UO)(),w=(0,s.s0)(),g=(0,l.useContext)(d.Z),k=(0,l.useContext)(p.Z);return(0,l.useEffect)((()=>{const e=r.Z.CancelToken.source();return async function(){try{const a=await r.Z.get(`/post/${y}`,{CancelToken:e});a.data?h(a.data):f(!0),t(!1)}catch(e){console.log(e)}}(),()=>{e.cancel()}}),[y]),e?l.createElement(n.Z,{title:"..."},l.createElement(c.Z,null)):E?l.createElement(u.Z,null):l.createElement(n.Z,{title:a.title},l.createElement("div",{className:"container container--narrow py-md-5"},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,a.title),!!k.loggedIn&&k.user.username==a.author.username&&l.createElement("span",{className:"pt-2"},l.createElement(o.rU,{to:`/post/${y}/edit`,"data-tooltip-content":"Edit","data-tooltip-id":"edit",className:"text-primary mr-2"},l.createElement("i",{className:"fas fa-edit"})),l.createElement(m.u,{id:"edit",className:"custom-tooltip"})," ",l.createElement("button",{onClick:function(){window.confirm("Do you want to delete this post?")&&(async()=>{try{(await r.Z.delete(`/post/${y}`,{data:{token:k.user.token}})).data?(g({type:"flashMessage",value:{text:"Post deleted successfully.",alertType:"success"}}),w(`/profile/${k.user.username}`)):g({type:"flashMessage",value:{text:"Post could not be deleted.",alertType:"danger"}})}catch(e){console.log(e)}})()},type:"button",className:"delete-post-button text-danger","data-tooltip-content":"Delete","data-tooltip-id":"delete"},l.createElement("i",{className:"fas fa-trash"}),l.createElement(m.u,{id:"delete",className:"custom-tooltip"})))),l.createElement("p",{className:"text-muted small mb-4"},l.createElement(o.rU,{to:`/profile/${a.author.username}`},a.author.avatar?l.createElement("img",{className:"avatar-tiny",src:a.author.avatar}):l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",style:{maxWidth:"30px"}},l.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}))),"Posted by"," ",l.createElement(o.rU,{to:`/profile/${a.author.username}`},a.author.username)," ","on ",new Date(a.createdDate).toLocaleDateString()),l.createElement("div",{className:"body-content"},l.createElement(i.D,{children:a.body,allowedElements:["p","br","strong","h1","h2","h3","h4","ol","ul","li"]}))))}}}]);